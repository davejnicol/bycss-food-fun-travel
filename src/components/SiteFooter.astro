---
import LogoLink from "./LogoLink.astro";
import PrimaryNavigation from "./PrimaryNavigation.astro";
import SocialLinks from "./SocialLinks.astro";
import pages from "../content/pages/pages.json";

const currentYear = new Date().getFullYear();
---

<footer class="djne-site-footer | djne-padding-block-4">
	<div class="djne-container">
		<div class="djne-flex-group djne-align-center">
			<LogoLink />
			<PrimaryNavigation label="footer navigation">
				<!-- <li><a href="/articles">Articles</a></li>
				<li><a href="/about">About</a></li>
				<li><a href="/contact">Contact</a></li> -->
				<!-- Optional Challenge to pull page details from JSON file -->
				{
					pages.map((page) => (
						<li>
							<a href={page.pageUrl}>{page.pageName}</a>
						</li>
					))
				}
			</PrimaryNavigation>
			<SocialLinks />

			<p class="djne-ml-auto">&copy; <span id="footer-year">{currentYear}</span> TravelFoodFun</p>
		</div>
	</div>
</footer>

<style lang="scss">
	@use "../styles/abstracts" as *;

	.djne-flex-group {
		width: 100%;
	}

	.djne-site-footer {
		background-color: $footer-background-color;
		color: $footer-text-color;

		a {
			color: $footer-link-color;
			text-decoration: $footer-link-text-decoration;
			font-family: $footer-link-font-family;

			&:is(:hover, :focus) {
				color: $footer-link-color-hover;
			}
		}
	}
</style>

<script is:inline>
	document.getElementById("footer-year").innerText = new Date().getFullYear();
</script>
